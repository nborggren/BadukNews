알파고시대의 바둑랭킹
씨플리 랭킹과 배태일 랭킹 비교
[랭킹칼럼] 
배태일  2017-02-28 오후 09:13   [프린트｜스크랩]
▲ 인간바둑을 평정한 인공지능 알파고의 바둑랭킹 점수를 매긴다면 몇 점이나 주어야 합당할까.

          작년 3월에 구글이 개발한 인공지능 바둑프로그램 알파고가 바둑계를 대표하는 이세돌에게 4승1패로 이긴 것은 바둑계뿐 아니라 전 세계적으로 이목을 집중시킨 큰 사건이었다. 오랫동안 바둑프로그램이 프로기사를 이기기 힘들 것이라고 생각해 왔던 바둑 동호인들은 이세돌이 다섯 번의 대국에서 어렵사리 1승을 거두는 것을 보고 놀라움을 금치 못했다. 그래서 크게 보면 바둑의 역사를 알파고 이전과 이후로 나눌 수 있다고 말하기도 한다.
알파고는 바둑의 포석과 행마에 큰 영향을 주고 있다. 알파고가 바둑의 보급과 사회적 위상에 어떤 영향을 줄지는 아직 예측하기 어렵다. 그러면 알파고는 바둑 랭킹제도에도 영향을 줄 것인가? 그렇지 않을 것이다. 그러나 인공지능 바둑의 등장으로 인간 랭킹에 대해 나름 생각을 하게 만들 것이다. 또 인공지능 바둑에 대해선 랭킹점수를 어떻게 매길 것인가, 그 경우에 매기는 랭킹이 얼마나 정확성이 있는가 하는 것을 당장 생각해볼 수 있다.
이세돌과 대국한 알파고의 랭킹점수
작년 3월에 이세돌과 대국한 알파고에 대해 랭킹점수를 매긴다면 어떻게 매길까? 인공지능 바둑프로그램의 랭킹을 매길 때에 주의할 점은 인공지능의 실력은 매우 빠르게 증가한다는 사실을 헤아려야한다. 그러므로 이세돌과 대국한 알파고의 실력을 평가할 때에 판후이와 대국한 기록은 제외해야 한다. 마찬가지로 최근에 인터넷에서 대국한 알파고의 실력은 따로 평가해야 한다. 작년 3월의 알파고가 이세돌에게 80%의 승률을 거두었으므로 그 알파고의 랭킹점수는 이세돌에게 80%의 승률 기대치를 가지는 점수이어야 한다.  
그러나 단 5판의 대국에 의한 평가이므로 오차가 클 것을 예상할 수 있다. 그 오차를 한번 생각해 보자. 알파고의 이세돌에 대한 승률 기대치를 P라고 표시하면, 이세돌의 승률 기대치는 (1-P)이고, 알파고가 4승1패로 이길 확률은 다음 방정식으로 표시할 수 있다.
즉 알파고가 이길 확률을 4번 곱하고 거기에 이세돌이 이길 확률을 곱한 다음에 5를 곱한다. 여기서 5를 곱하는 이유는 이세돌이 한판을 이기는 경우가 1국부터 5국까지 5번의 경우가 있기 때문이다.
다음 그림에서 알파고가 4승1패의 전적을 거둘 확률을 알파고의 승률 기대치의 함수로 표시했다. 알파고의 승률 기대치가 80%일 때에 가장 큰 값을 가지고, 그보다 커지면 4승1패의 확률이 줄어드는 것은 5전 전승의 확률이 늘어나기 때문이다. 승률 기대치가 80%보다 작아질수록 4승1패의 확률이 줄어드는 이유는 3승2패, 2승3패 등의 확률이 늘어나기 때문이다. 
▲ [그림1] 알파고가 4승1패의 전적을 거둘 확률.
이 그림에서 승률 기대치가 60%와 90%의 곳에 수직선을 그었다. 이 두 선으로 표시한 구간 안의 그래프의 곡선 아래 면적이 전체 면적의 2/3 이상 되는 것을 볼 수 있다. 그러므로 이세돌과의 대국 결과에 의해서 알파고의 이세돌에 대한 승률 기대치가 60에서 90% 사이에 있을 것이라고 말할 수 있다.  
승률 기대치 80%에 해당하는 점수 차이는 482점이고, 승률 기대치 60%에 해당하는 점수 차이는 141점, 승률 기대치 90%에 해당하는 점수 차이는 763점이다.  이세돌의 작년 3월의 랭킹점수는 9784점이었으므로 작년 3월의 알파고의 랭킹점수는 10,266(-341/+281)점이라고 계산할 수 있다. 괄호 안의 숫자는 오차인데, 대국 수가 적은 것에 의한 통계이므로 오차가 매우 크다.
인터넷에 등장한 알파고의 랭킹 점수
최근에 인터넷에 Master와 Magister라는 대화명으로 나타난 알파고가 인터넷 속기 바둑에서 한중일 3국의 최고수들을 상대로 60전 전승을 거두어서 바둑계에 충격을 주었다. 이것은 이세돌과 알파고의 대결 때처럼 바깥세계의 주목을 받지 못했지만 바둑계에는 그에 필적할만한 충격을 주었다. 
이 알파고의 랭킹점수를 계산해 보자. 전체 대국 60번을 다 이길 확률은 승률 기대치가 95%일 때에 0.6%이지만, 승률 기대치가 증가함에 따라서 60전 전승의 확률은 매우 빠르게 증가한다.  
이 결과를 그래프로 그렸다. 이 그림에 의하면, 승률 기대치가 99% 이하인 경우를 다 적분해도 60전 전승을 거둘 확률이 전체의 1/3이 되지 못한다. 그러므로 60전 전승의 전적을 거둔 알파고는 상대 기사들에 대해 평균적으로 99% 이상의 승률 기대치를 가진 것으로 평가된다.
▲ [그림2] 승률 기대치와 60전 전승의 확률.
승률 기대치 99%는 점수 차이 1,596.5에 해당한다. 알파고와 인터넷에서 대국한 기사들의 평균 랭킹점수가 9750점이라면, 그들과 대국해서 60전 전승을 거둔 알파고의 랭킹점수는 9750+1597=11,347점 이상이라고 계산할 수 있다. 
커제와 대결할 알파고의 랭킹점수
커제와 알파고가 금년 중에 대국을 할 예정이라고 한다. 만약 5번기라면, 필자는 알파고가 5전 전승을 할 것이라고 예측한다. 4승1패의 전적에 의한 랭킹점수 계산은 이미 조사해 보았으므로 알파고가 5전 전승을 했을 경우에 랭킹점수가 몇 점 가량 될까를 생각해 보자.
▲ [그림3] 5전 전승을 할 경우의 랭킹점수 계산.
위 그림에서 승률 기대치가 85%가 넘을 경우를 적분하면 전체 면적의 2/3가 넘는 것을 볼 수 있다. 승률 기대치 85%는 603점의 점수 차이에 해당한다. 알파고가 커제에게 5전 전승을 거두었을 때에 커제의 2월 점수가 9962점이므로 알파고의 랭킹점수는 11,565점 이상일 것이라고 계산할 수 있다. 이 경우에도 랭킹점수의 하한선을 계산했지만, 상한선은 정할 수 없다.
이상에서 살펴 본 바에 따르면, 알파고를 비롯한 인공지능의 바둑실력을 랭킹점수로 매길 경우에 오차가 매우 크므로 랭킹점수뿐 아니라 오차까지 함께 계산해야 의미가 있다. 인공지능 바둑의 랭킹점수 오차를 줄이려고 더 많은 대국 결과를 수집하기 위해서 오래 기다리는 것은 의미가 없다. 인공지능의 바둑실력이 기다리는 동안에 크게 증가할 것이기 때문이다.
▲ 2016년 3월 벌어진 이세돌-알파고 챌린지 매치 5번기에서 인간대표로 나선 이세돌 9단은 충격적인 1:4 패배를 당했다. 가까스로 영패를 면하긴 했으나 실질적으로 0:5 완패였다. 당시는 '멘붕'에 가까운 패배로 받아들였으나 되돌아보면 한판 이긴 것이 기적이었을 정도로 인공지능바둑의 발전은 엄청난 수준에 도달해 있었다. 인간 바둑계에서만 미처 몰랐을 뿐. 믿기지 않는 패배에 정신을 수습할 겨를이 없었을 텐 데도 폐막식에서 쿨하게 패배를 인정하고 알파고 개발자들에게 축하 인사를 건네는 이세돌 9단.
씨플리의 세계바둑랭킹에 대해
유럽바둑연맹의 랭킹제도를 개발하여 운용하고 있는 알레스 씨플리(Ales Cieply) 박사는 세계바둑랭킹도 계산해 발표하는데, 2016년 12월19일에 발표한 랭킹에 1위 커제 3631점, 2위 알파고 3598점, 3위 박정환 3584점, 8위 이세돌 3521점이라고 발표했고 이것은 중국 인터넷바둑 사이트에 보도되었다.
○● 중국 sina.com 보도 보기 ☜ 클릭 
이 랭킹에 따르면 알파고와 이세돌의 점수 차이가 불과 77점이다. 그가 사용하는 승률 기대치 함수에서는 필자가 사용하는 승률 기대치의 함수의 점수 차이의 반(0.5)에 해당하는 점수 차이에서 같은 값을 가진다. 따라서 이 제도의 점수 차이 77점의 승률 기대치는 필자의 승률 기대치 함수의 154점에 해당하여 승률 기대치 60.9%이다.  
알파고가 이세돌에게 4승1패로 승률 80%를 기록했는데 왜 이세돌에게 승률 기대치가 불과 60.9%인 점수를 매겼을까? 아마도 판후이와 알파고가 대국한 공식, 비공식 기록을 포함하여 계산했을 것이라고 본다. 그러나 판후이와 대국한 알파고와 이세돌과 대국한 알파고의 실력이 전혀 다른데 이것을 뭉뚱그려서 함께 랭킹을 계산한 것은 잘못이다.  
이러한 문제점을 안고 있는데도 커제가 알파고보다 더 랭킹점수가 높다고 발표한 내용 때문인지 이 결과가 중국 인터넷바둑 사이트에 보도되었다. 그런데 금년 2월에 발표한 씨플리 세계랭킹에는 알파고의 랭킹이 빠졌고, 그가 발표하는 웹페이지에도 알파고의 과거의 랭킹이 삭제되었다. 아마 알파고가 60전 전승한 뉴스를 듣고 알파고의 점수를 낮게 매긴 것이 맞지 않다고 생각해서 그랬으리라고 본다.
금년 2월에 발표한 씨플리의 세계랭킹과 필자의 세계랭킹을 <표1>에 10위까지 적었다. (참조 www.gorating.org)
▲ <표1> 세계랭킹 상위 10위 (2017년 2월)
상위 10명 중에서 9명이 공통인데, 씨플리 랭킹에서는 천야오예가 빠지고 이야마 유타가 6위에 올랐다. 필자의 랭킹에 따르면 이야마 유타는 32위다. 과연 이야마의 랭킹이 맞는 것인가? 이 두 세계랭킹을 비교하기 위해서 그의 랭킹과 필자의 랭킹에서 각각 200위 안에 드는 기사들을 골랐고, 거기서 지난 24개월 동안 40국 미만을 대국한 기사들은 제외하였다. 
배태일 랭킹점수를 가로축으로 표시하고 씨플리 랭킹점수를 세로축으로 하는 좌표에 이들의 점수를 표시하였다. 배태일 랭킹점수가 9000점 이하이고 씨플리 랭킹점수가 3200점 이하인 지역에 아무도 없는 것은 이런 점수는 두 랭킹제도에서 모두 200등 이하이기 때문이다.
▲ [그림4] 배태일 랭킹점수와 씨플리 랭킹점수의 상관관계.
대각선은 y = 2x + 2700 의 관계식을 나타내는 것인데, 이 직선이 배태일 점수와 씨플리 점수의 관계를 평균적으로 나타낸다. 이 일차방정식의 계수가 2인 것은 배태일 랭킹점수의 차이의 반 값에 해당하는 씨플리의 랭킹점수 차이가 같은 승률 기대치를 가지기 때문이다. 여기서 가위표 “x”를 한 점들은 일본기사들의 점수를 나타내는데, 일본기사들의 씨플리 랭킹점수가 다른 나라 기사들에 비해서 전체적으로 과대평가된 것을 알 수 있다.
씨플리의 일본랭킹이 제대로 계산되었는가 조사하기 위해서 지난 24개월 동안에 일본기사들이 한국과 중국 기사들과 대국한 승패 결과를 씨플리 랭킹점수 차이의 50점 구간으로 나누어서 집산하여 그 결과를 <표2>에 나타냈다. 
▲ <표2> 일본기사들의 점수 차이 구간별 승패 기록과 이론
여기서 점수 차이는 일본기사의 점수에서 상대기사의 점수를 뺀 것이다.  점수 차이가 음수(마이너스)인 쪽에 대국이 많은 것은 일본기사들의 실력이 한중의 기사들보다 낮기 때문이다. 이 결과를 다음 그래프에 그렸다.
▲ [그림5] 씨플리 랭킹에서 일본기사들의 한국과 중국 기사들과의 대국에서 기록한 승률과 이론.
이 그림에서 빨간 점들은 일본기사들의 실제 승률이고, 까만 실선은 이론적 승률 기대치이다. 일본기사들의 실제 승률이 이론보다 전체적으로 낮은 것은 일본기사들의 랭킹점수가 과대평가되었다는 것을 뜻한다. 점선은 점수 차이에서 100점을 뺀 값의 승률 기대치를 나타낸다. 이 점선이 실제 승률에 잘 부합하는 것은 일본기사들의 랭킹점수가 100점쯤 과대평가되었다는 것을 나타낸다. 
배태일 랭킹제도에서의 일본기사들의 한국과 중국 기사들에 대한 승패를 점수 차이 100점 구간으로 나누어서 취합한 결과가 <표3>에 적혀 있다.
▲ <표3> 일본기사들의 한국과 중국 기사들에 대한 승패 기록과 이론.
이 표에 따른 결과를 [그림6]에 그래프로 그렸다. 실제 승률이 대체적으로 이론적 승률 기대치와 잘 부합하는 것을 볼 수 있다. [그림5]와 [그림6]을 비교하면 배태일 랭킹제도가 씨플리 랭킹제도보다 일본기사들의 실력을 더 정확히 평가한다는 것을 알 수 있다.
▲ [그림6] 배태일 랭킹제도에서 일본기사들의 실제 승률과 이론.
씨플리 랭킹제도와 대국자료에 대해
최근에 입단한 중국기사들의 배태일 랭킹점수와 씨플리 랭킹점수의 상관관계를 비교 조사해 봤다. 그 중에서 차이가 가장 많이 나는 기사들 둘을 고르면 뤄얀과 쟈이판이다. 뤄얀의 배태일 랭킹점수는 8800점으로 매우 낮은데 씨플리 랭킹점수는 3238점으로 높다. 반대로 쟈이판의 배태일 랭킹점수는 9102점인데 씨플리 랭킹점수는 3032점으로 매우 낮다. 씨플리 랭킹 계산에 사용한 대국 수를 살피니 뤄얀은 7승4패이고, 쟈이판은 4승 11패이다. 배태일 랭킹에 사용한 자료는 뤄얀이 지난 24개월 동안에 28승29패를 기록했고, 쟈이판은 35승30패를 기록했다. 
씨플리 랭킹에서 중국의 저점자들의 랭킹이 정확하지 않은 주 요인은 입력하는 대국 기록이 빈약하기 때문이다. 씨플리는 바둑사이트 www.go4go.net에 올려진 대국 목록을 사용하는데, 그 대국 목록은 주로 본선이나 중요한 대국 기보만 올린 것이다. 예선대국은 극히 일부만 수록되어 있다. 예를 들면 금년 2월에 창기배 예선에서 137국이 두어졌는데, 기보 목록에 수록된 대국은 18국에 불과하다. 
결론
알파고로 대표되는 인공지능 바둑의 실력을 랭킹점수로 표시할 때에는 반드시 오차를 함께 적어야 한다. 인공지능 바둑의 대국 수를 많이 모으기 위해서 오래 기다리면 빨리 실력이 느는 인공지능 바둑의 실력을 제대로 반영하지 못하기 때문에 적은 수의 대국 결과로 랭킹점수를 계산해야 하므로 오차가 크다.
씨플리 박사가 세계바둑랭킹을 계산하여 발표하는데, 일본기사들의 실력이 상당히 과대평가되었다. 또한 실력이 낮은 기사들의 랭킹이 정확하지 않은데, 주된 이유는 랭킹계산에 포함한 대국 기록이 매우 빈약하기 때문이다.  [배태일]
▲ 다음달(3월21일)이면 곧 제실력을 보일 일본판 인공지능바둑 '딥젠고(DeepZenGo)'. 지난해 11월 조치훈 9단에게 1승(2패)을 거둔 뒤 5개월이 지났다. 이번엔 전성기가 지난 고수(조치훈)보다 더 센 한중일 초일류 기사 세명과 더불어 4자 리그전에 등판하지만, 판후이와 대결하고 6개월 만에 모습을 드러낸 알파고가 상상을 초월한 실력향상을 보인 걸 헤아린다면 결과에 대해 장담할 사람은 아무도 없을 터이다.
 
 
 
 